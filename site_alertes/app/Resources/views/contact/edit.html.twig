{% extends 'base.html.twig' %}

{% set contact_active = true %}

{% block title %}Modification d'un contact{% endblock %}
{% block description %}Permet de modifier un contact{% endblock %}

{% block main_content %}
    <div class="card">
        <div class="card-body">

            {{ form_start(edit_form, {'attr': {'class': 'form-horizontal'}}) }}

            {{ form_errors(edit_form) }}
            {{ form_widget(edit_form._token) }}

            {% if contact.personne != false %}
                <div class="form-group">
                    {{ form_label(edit_form.personne.nomPersonne, "Nom de la personne*", {'label_attr': {'class': 'col-sm-2 control-label'}}) }}
                    {{ form_errors(edit_form.personne.nomPersonne) }}
                    <div class="col-sm-10">
                        {{ form_widget(edit_form.personne.nomPersonne, {'attr': {'class': 'form-control'}}) }}
                    </div>
                </div>

                <div class="form-group">
                    {{ form_label(edit_form.personne.prenomPersonne, "Prénom de la personne*", {'label_attr': {'class': 'col-sm-2 control-label'}}) }}
                    {{ form_errors(edit_form.personne.prenomPersonne) }}
                    <div class="col-sm-10">
                        {{ form_widget(edit_form.personne.prenomPersonne, {'attr': {'class': 'form-control'}}) }}
                    </div>
                </div>

            {% elseif contact.organisme != false %}
                <div id="organisme" class="form-group">
                    {{ form_label(edit_form.organisme.nomOrganisme, "Nom de l'organisme*", {'label_attr': {'class': 'col-sm-2 control-label'}}) }}
                    {{ form_errors(edit_form.organisme.nomOrganisme) }}
                    <div class="col-sm-10">
                        {{ form_widget(edit_form.organisme.nomOrganisme, {'attr': {'class': 'form-control'}}) }}
                    </div>
                </div>

            {% else %}
                <div class="form-group">
                    <label>Aucune personne ou organisme associer à ce contact</label>
                </div>
            {% endif %}

            <div class="form-group">
                {{ form_label(edit_form.email, "Email*", {'label_attr': {'class': 'col-sm-2 control-label'}}) }}
                {{ form_errors(edit_form.email) }}
                <div class="col-sm-10">
                    {{ form_widget(edit_form.email, {'attr': {'class': 'form-control'}}) }}
                </div>
            </div>

            <div class="form-group">
                {{ form_label(edit_form.telephone, "Téléphone", {'label_attr': {'class': 'col-sm-2 control-label'}}) }}
                {{ form_errors(edit_form.telephone) }}
                <div class="col-sm-10">
                    {{ form_widget(edit_form.telephone, {'attr': {'class': 'form-control'}}) }}
                </div>
            </div>

            <div class="form-group">
                {{ form_label(edit_form.adresse, "Adresse", {'label_attr': {'class': 'col-sm-2 control-label'}}) }}
                {{ form_errors(edit_form.adresse) }}
                <div class="col-sm-10">
                    {{ form_widget(edit_form.adresse, {'attr': {'class': 'form-control'}}) }}
                </div>
            </div>

            <div class="form-group">
                {{ form_label(edit_form.codePostal, "Code postal", {'label_attr': {'class': 'col-sm-2 control-label'}}) }}
                {{ form_errors(edit_form.codePostal) }}
                <div class="col-sm-10">
                    {{ form_widget(edit_form.codePostal, {'attr': {'class': 'form-control'}}) }}
                </div>
            </div>

            <div class="form-group">
                {{ form_label(edit_form.ville, "Ville", {'label_attr': {'class': 'col-sm-2 control-label'}}) }}
                {{ form_errors(edit_form.ville) }}
                <div class="col-sm-10">
                    {{ form_widget(edit_form.ville, {'attr': {'class': 'form-control'}}) }}
                </div>
            </div>

            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <input type="submit"  class="btn btn-info btn-lg btn-block" value="Modifier ce contact" />
                </div>
            </div>

            {{ form_end(edit_form, {'render_rest': false}) }}

            <ul>
                <li>
                    <a href="{{ path('personne_index') }}" class="btn btn-info btn-sm">
                        <span class="fa fa-reply"></span> Retourner à la liste des contact
                    </a>
                </li>
                <li>
                    {{ form_start(delete_form) }}
                    <button type="submit" class="btn btn-info btn-sm">
                        <span class="fa fa-times-circle"></span> Supprimer ce contact
                    </button>
                    {{ form_end(delete_form) }}
                </li>
            </ul>

        </div>
    </div>


{% endblock %}
